---
name: "aliases_show_userinfo"
pack: "freeipa"
action_ref: "freeipa.action_show_userinfo"
description: "Show the account status of a user"
formats:
  - display: "show {{user_id}}"
    representation:
      - "show {{user_id}}"

ack:
  format: "Okay, wait a second. Searching account status of ' {{execution.parameters['user_id']}} '......"
  append_url: false 

result:
  format: |
  
    {% if 'succeeded' == execution.status %} 
    Action {{execution.status}}

    Your account's details are as follows: 

    Account Current Status     : {{execution.result['result']['status']}}
    User Name                  : {{execution.result['result']['username']}}
    Failed Password Attempted  : {{execution.result['result']['failed_password_attempted']}}
    Last Failed Attempted      : {{execution.result['result']['last_failed_attempted']}}
    Password Expired Date      : {{execution.result['result']['password_expired_date']}}
    Password Valid Days        : {{execution.result['result']['password_valid_days']}}

    Max failure is {{execution.result['result']['max_password_failure']}} times. You have {{execution.result['result']['chances_left']}} chances left.
 
    {% elif 'failed' == execution.status %}

    Action {{execution.status}}.

    "{{execution.parameters['user_id']}}" user id not found.

    {% endif %}


    






